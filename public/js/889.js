"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[889],{2889:(t,e,a)=>{a.r(e),a.d(e,{default:()=>r});const s={data:function(){return{kd_user:null,in_role:[],form:new Form({kd_user:"",nama:"",username:"",email:"",password:"",role:"",status_user:""})}},mounted:function(){this.$route.params.kd_user?(this.kd_user=this.$route.params.kd_user,this.load_kelola_user()):this.load_create()},methods:{load_create:function(){var t=this;this.$Progress.start(),axios.get(this.$api_kelola_user+"/create").then((function(e){t.in_role=e.data.in_role,t.$Progress.finish()})).catch((function(e){t.$Progress.fail(),t.$error.catch(e)}))},load_kelola_user:function(){var t=this;this.$Progress.start(),axios.get(this.$api_kelola_user+"/"+this.kd_user+"/edit").then((function(e){t.$Progress.finish(),t.in_role=e.data.in_role,t.form.fill(e.data.in_kelola_user)})).catch((function(e){t.$Progress.fail(),t.$error.catch(e)}))},add:function(){var t=this;this.$Progress.start(),this.$toast.df102(),this.form.post("/api/kelola-user").then((function(){t.$Progress.finish(),t.$toast.df200()})).catch((function(e){t.$Progress.fail(),t.$error.catch(e)}))},update:function(){var t=this;this.$Progress.start(),this.$toast.df102(),this.form.put(this.$api_kelola_user+"/"+this.kd_user).then((function(){t.$Progress.finish(),t.$toast.df200()})).catch((function(e){t.$Progress.fail(),t.$error.catch(e)}))},to_base64:function(t){var e=this,a=t.target.files[0],s=t.target.id;this.preview=URL.createObjectURL(a);var r=new FileReader;a.size/1024<2048?(r.onloadend=function(t){e.form[s]=r.result},r.readAsDataURL(a)):window.gambarRule.fire()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("kembali"),t._v(" "),a("div",{staticClass:"bg-white rounded border"},[t._m(0),t._v(" "),a("div",{staticClass:"py-2 container"},[a("form",{on:{submit:function(e){e.preventDefault(),null==t.kd_user?t.add():t.update()}}},[a("table",{staticClass:"table table-borderless"},[a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("Nama")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nama,expression:"form.nama"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"nama",maxlength:"50",minlength:"1"},domProps:{value:t.form.nama},on:{input:function(e){e.target.composing||t.$set(t.form,"nama",e.target.value)}}})])]),t._v(" "),a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("Username")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"username",maxlength:"100",minlength:"1"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})])]),t._v(" "),a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("Email")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"email",maxlength:"100",minlength:"1"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]),t._v(" "),null==this.kd_user?a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("Password")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"password",maxlength:"100",minlength:"1"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})])]):t._e(),t._v(" "),a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("role")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.role,expression:"form.role"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"role",e.target.multiple?a:a[0])}}},t._l(t.in_role,(function(e,s){return a("option",{key:s,domProps:{value:e.kd_role}},[t._v(t._s(e.nama_role))])})),0)])]),t._v(" "),a("tr",[a("th",{staticClass:"px-3 align-middle"},[t._v("Status Users")]),t._v(" "),a("td",{staticClass:"px-3 align-middle"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status_user,expression:"form.status_user"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status_user",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("Aktif")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("Nonaktif")])])])])]),t._v(" "),a("button",{staticClass:"btn btn-block btn-dark",attrs:{type:"submit"}},[t._v("Simpan Kelola User")])])])])],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row py-3 border-bottom"},[a("div",{staticClass:"col-sm"},[a("div",{staticClass:"font-weight-bolder"},[t._v("Kelola Kelola User")])])])])}],!1,null,null,null).exports}}]);